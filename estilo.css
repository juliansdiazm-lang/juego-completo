<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Juego de Cultura General</title>
  <style>
    /* Estilos adaptados de tu primer ejemplo */
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      color: #333;
      margin: 0;
      padding: 20px;
    }

    header {
      text-align: center;
      margin-bottom: 20px;
    }

    h1 {
      font-size: 2.5em;
      color: #220578;
    }

    h2 {
      font-size: 1.8em;
      margin-bottom: 10px;
    }

    h3 {
        font-size: 1.4em;
    }

    #quiz-container {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      padding: 20px;
      max-width: 600px;
      margin: auto;
      text-align: center;
    }

    button {
      background-color: #4CAF50; /* Verde por defecto */
      color: white;
      border: none;
      border-radius: 5px;
      padding: 10px 15px;
      margin: 5px;
      cursor: pointer;
      font-size: 1em;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #29772d;
    }
    
    .opcion:disabled {
        background-color: #a5a5a5;
        cursor: not-allowed;
    }
    
    #reiniciar, .jugar-nuevo-btn {
      background-color: #fd0000;
    }

    #reiniciar:hover, .jugar-nuevo-btn:hover {
      background-color: #991414;
    }

    /* Estilos para componentes específicos del juego */
     #temporizador {
      font-size: 1.2em;
      font-weight: bold;
      color: #d9534f;
      margin: 15px 0;
    }

    #medalla {
        font-size: 1.5em;
        font-weight: bold;
        color: #220578;
        margin: 20px 0;
    }

    /* Estilos para la Alerta Personalizada (adaptados) */
    #alerta-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    
    #alerta-personalizada {
      background: #fff;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      width: 90%;
      max-width: 400px;
      text-align: center;
    }

    #alerta-mensaje {
      font-size: 1.2em;
      margin-bottom: 20px;
    }
    
    #alerta-personalizada.correcta #alerta-boton {
        background-color: #2ecc71;
    }
    #alerta-personalizada.correcta #alerta-boton:hover {
        background-color: #27ae60;
    }

    #alerta-personalizada.incorrecta #alerta-boton {
        background-color: #e74c3c;
    }
     #alerta-personalizada.incorrecta #alerta-boton:hover {
        background-color: #c0392b;
    }

    #alerta-personalizada.tiempo-agotado #alerta-boton {
        background-color: #f39c12;
    }
    #alerta-personalizada.tiempo-agotado #alerta-boton:hover {
        background-color: #e67e22;
    }

  </style>
</head>
<body>

  <header>
    <h1>🎮 Juego de Cultura General</h1>
  </header>

  <div id="alerta-overlay">
    <div id="alerta-personalizada">
        <h2 id="alerta-mensaje"></h2>
        <button id="alerta-boton">Siguiente</button>
    </div>
  </div>

  <main>
    <section id="quiz-container">
      <div id="inicio">
        <h3>Selecciona una categoría para empezar:</h3>
        <button onclick="seleccionarCategoria('general')">General</button>
        <button onclick="seleccionarCategoria('historia')">Historia</button>
        <button onclick="seleccionarCategoria('ciencia')">Ciencia</button>
      </div>

      <div id="juego" style="display:none;">
        <h2 id="pregunta"></h2>
        <div id="opciones"></div>
        <div id="temporizador"></div>
        <button id="reiniciar">🔄 Reiniciar</button>
      </div>

      <div id="resultado" style="display:none;">
        <h2>Juego Terminado</h2>
        <h3 id="mensaje-final"></h3>
        <p id="medalla"></p>
        <button class="jugar-nuevo-btn" onclick="reiniciarJuego()">Jugar de nuevo</button>
      </div>
    </section>
  </main>

<script>
  // El código JavaScript no necesita cambios, funciona igual con el nuevo CSS.
  const bancoPreguntas = {
    general: [
      { pregunta: "¿Cuál es el planeta más cercano al Sol?", opciones: ["Mercurio", "Venus", "Marte", "Saturno"], correcta: 0 },
      { pregunta: "¿Quién pintó la Mona Lisa?", opciones: ["Van Gogh", "Leonardo da Vinci", "Picasso", "Miguel Ángel"], correcta: 1 },
      { pregunta: "¿Cuál es el océano más grande?", opciones: ["Atlántico", "Índico", "Pacífico", "Ártico"], correcta: 2 },
      { pregunta: "¿Qué país ganó el Mundial de 2010?", opciones: ["Brasil", "España", "Alemania", "Francia"], correcta: 1 },
      { pregunta: "¿Cuál es el idioma más hablado?", opciones: ["Inglés", "Español", "Chino mandarín", "Árabe"], correcta: 2 },
      { pregunta: "¿Cuál es el animal terrestre más rápido?", opciones: ["León", "Tigre", "Guepardo", "Caballo"], correcta: 2 },
      { pregunta: "¿Qué instrumento tiene teclas blancas y negras?", opciones: ["Guitarra", "Violín", "Piano", "Flauta"], correcta: 2 }
    ],
    historia: [
      { pregunta: "¿En qué año llegó Colón a América?", opciones: ["1492", "1500", "1600", "1453"], correcta: 0 },
      { pregunta: "¿Quién fue el primer presidente de EE.UU.?", opciones: ["Lincoln", "George Washington", "Jefferson", "Adams"], correcta: 1 },
      { pregunta: "¿En qué año cayó el Muro de Berlín?", opciones: ["1980", "1985", "1989", "1991"], correcta: 2 },
      { pregunta: "¿Quién fue Cleopatra?", opciones: ["Reina de Egipto", "Reina de Roma", "Diosa griega", "Filósofa"], correcta: 0 },
      { pregunta: "¿Qué civilización construyó las pirámides?", opciones: ["Mayas", "Egipcios", "Aztecas", "Romanos"], correcta: 1 },
      { pregunta: "¿Cuándo empezó la Primera Guerra Mundial?", opciones: ["1914", "1939", "1920", "1900"], correcta: 0 },
      { pregunta: "¿Qué imperio gobernó Julio César?", opciones: ["Griego", "Romano", "Egipcio", "Persa"], correcta: 1 }
    ],
    ciencia: [
      { pregunta: "¿Quién formuló la relatividad?", opciones: ["Newton", "Einstein", "Galileo", "Tesla"], correcta: 1 },
      { pregunta: "¿Cuál es el símbolo del agua?", opciones: ["O2", "H2O", "CO2", "HO"], correcta: 1 },
      { pregunta: "¿Cuál es el planeta más grande?", opciones: ["Tierra", "Saturno", "Júpiter", "Neptuno"], correcta: 2 },
      { pregunta: "¿Cuál es la unidad básica de la vida?", opciones: ["Átomo", "Molécula", "Célula", "Tejido"], correcta: 2 },
      { pregunta: "¿Qué gas es esencial para la respiración?", opciones: ["Oxígeno", "CO2", "Nitrógeno", "Hidrógeno"], correcta: 0 },
      { pregunta: "¿Quién descubrió la gravedad?", opciones: ["Newton", "Einstein", "Copérnico", "Kepler"], correcta: 0 },
      { pregunta: "¿Qué planeta es el 'planeta rojo'?", opciones: ["Venus", "Marte", "Mercurio", "Saturno"], correcta: 1 }
    ]
  };

  let preguntas = [];
  let preguntaActual = 0;
  let puntaje = 0;
  let tiempoRestante;
  let temporizador;
  
  const alertaOverlay = document.getElementById("alerta-overlay");
  const alertaPersonalizada = document.getElementById("alerta-personalizada");
  const alertaMensaje = document.getElementById("alerta-mensaje");
  const alertaBoton = document.getElementById("alerta-boton");

  function seleccionarCategoria(cat) {
    preguntas = [...bancoPreguntas[cat]]; 
    preguntas = preguntas.sort(() => Math.random() - 0.5); // aleatoriza
    preguntaActual = 0;
    puntaje = 0;
    document.getElementById("inicio").style.display = "none";
    document.getElementById("juego").style.display = "block";
    mostrarPregunta();
  }

  function mostrarPregunta() {
    if (preguntaActual >= preguntas.length) {
      terminarJuego();
      return;
    }

    const preguntaElemento = document.getElementById("pregunta");
    const opcionesElemento = document.getElementById("opciones");
    const temporizadorElemento = document.getElementById("temporizador");

    preguntaElemento.textContent = preguntas[preguntaActual].pregunta;
    opcionesElemento.innerHTML = "";

    preguntas[preguntaActual].opciones.forEach((opcion, index) => {
      const btn = document.createElement("button");
      btn.textContent = opcion;
      btn.classList.add("opcion");
      btn.onclick = () => verificarRespuesta(index);
      opcionesElemento.appendChild(btn);
    });

    // Reinicia temporizador
    tiempoRestante = 15;
    temporizadorElemento.textContent = `Tiempo: ${tiempoRestante}s`;
    clearInterval(temporizador);
    temporizador = setInterval(() => {
      tiempoRestante--;
      temporizadorElemento.textContent = `Tiempo: ${tiempoRestante}s`;
      if (tiempoRestante <= 0) {
        clearInterval(temporizador);
        mostrarAlerta("¡Tiempo agotado!", "tiempo-agotado");
      }
    }, 1000);
  }
  
  function deshabilitarOpciones() {
      document.querySelectorAll('.opcion').forEach(btn => {
          btn.disabled = true;
      });
  }

  function verificarRespuesta(indice) {
    clearInterval(temporizador);
    deshabilitarOpciones();
    
    if (indice === preguntas[preguntaActual].correcta) {
      puntaje++;
      mostrarAlerta("¡Correcto! 👍", "correcta");
    } else {
        const respuestaCorrecta = preguntas[preguntaActual].opciones[preguntas[preguntaActual].correcta];
        mostrarAlerta(`Incorrecto... La respuesta era "${respuestaCorrecta}"`, "incorrecta");
    }
  }

  function siguientePregunta() {
    preguntaActual++;
    mostrarPregunta();
  }
  
  function mostrarAlerta(mensaje, tipo) {
      alertaMensaje.textContent = mensaje;
      alertaPersonalizada.className = tipo;
      alertaOverlay.style.display = "flex";

      alertaBoton.onclick = () => {
          alertaOverlay.style.display = "none";
          siguientePregunta();
      };
  }

  function terminarJuego() {
    document.getElementById("juego").style.display = "none";
    document.getElementById("resultado").style.display = "block";
    document.getElementById("mensaje-final").textContent = `Tu puntaje final es ${puntaje} de ${preguntas.length}`;

    let medalla = "";
    if (puntaje === preguntas.length) medalla = "🥇 Medalla de Oro - ¡Eres un genio!";
    else if (puntaje >= preguntas.length / 2) medalla = "🥈 Medalla de Plata - ¡Muy bien hecho!";
    else medalla = "🥉 Medalla de Bronce - ¡Sigue practicando!";
    
    document.getElementById("medalla").textContent = medalla;
  }

  document.getElementById("reiniciar").onclick = () => {
    reiniciarJuego();
  };

  function reiniciarJuego() {
    clearInterval(temporizador);
    document.getElementById("resultado").style.display = "none";
    document.getElementById("juego").style.display = "none";
    document.getElementById("inicio").style.display = "block";
  }
</script>

</body>
</html>
